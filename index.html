<!DOCTYPE html>
<html>

<head>
<title>The Five Elements</title>
<meta charset="utf-8">
<script type="text/javascript" src="https://rawgit.com/cxd4/OpenGL-js/master/gl.js"></script>
<script type="text/javascript">
var vertices = [
     0.000000000000000000000000000000, +1.000000000000000000000000000000, 0, 1,
    -0.951056516295153572116439333379, +0.309016994374947424102293417183, 0, 1,
    -0.587785252292473129168705954639, -0.809016994374947424102293417183, 0, 1,
    +0.587785252292473129168705954639, -0.809016994374947424102293417183, 0, 1,
    +0.951056516295153572116439333379, +0.309016994374947424102293417183, 0, 1,
];
var opacity = 1.0;

var colors = [
    0, 0, 1, opacity,
    1, 1, 1, opacity,
    1, 1, 0, opacity,
    1, 0, 0, opacity,
    0, 1, 0, opacity,
];

function render_pentagram() {
    var i = 0, j;
    var water = 0, metal = 1, earth = 2, fire = 3, wood = 4;

 // Draw the "Purple Emperor".  Earth controls Water, Water controls Fire, etc.
    glColor4f(1, 0, 1, 1.00);
    glDrawElements(GL_LINE_LOOP, 5, GL_UNSIGNED_BYTE, [
        earth, water, fire, metal, wood
    ]);

 // Draw the inscribing pentagon.
    glColorPointer(4, GL_FLOAT, 0, colors);
    glEnableClientState(GL_COLOR_ARRAY);
    glDrawArrays(GL_LINE_LOOP, 0, 5);
    glDisableClientState(GL_COLOR_ARRAY);

    while (i < 5) {
        j = 4*i;
        glColor4f(colors[j + 0], colors[j + 1], colors[j + 2], 1);
        rounded_point(vertices[4*i + 0], vertices[4*i + 1], 0.045);
        i += 1;
    }
    glVertexPointer(4, GL_FLOAT, 0, vertices);
    return;
}

function main_GL() {
    var i = 0;

    if (GL_get_context(document, "elements") === null) {
        alert("Failed to initialize WebGL.");
        return;
    }

    glEnableClientState(GL_VERTEX_ARRAY);
    while (i < 5) {
        var degrees = (72*i + 90) % 360;
        var radians = Math.PI/180 * degrees;

     // vertices[4*i + 0] = Math.cos(radians);
     // vertices[4*i + 1] = Math.sin(radians);
        vertices[4*i + 2] = 0.0;
        vertices[4*i + 3] = 1.0;

     // Vertically offset the points halfway down the free canvas space.
        vertices[4*i + 1] -= 0.190983005625 / 2;
        i += 1;
    }
    glVertexPointer(4, GL_FLOAT, 0, vertices);

    glDisableClientState(GL_COLOR_ARRAY);
    setInterval(render_pentagram, 2000);
    return;
}

// In modern OpenGL, smooth and rounded points are deprecated.
// I will just have to create a custom function to draw shaded circles.
function rounded_point(x, y, radius) {
    var circle = [];
    var degrees, radians;
    var i = 0, precision = 90;

    circle[0] = x;
    circle[1] = y;
    while (i < precision) {
        degrees = i * (360 / precision);
        radians = (Math.PI / 180) * degrees;

        circle[2*(i + 1) + 0] = x + radius*Math.cos(radians);
        circle[2*(i + 1) + 1] = y + radius*Math.sin(radians);
        i += 1;
    }
    circle[2*(i + 1) + 0] = circle[2*1 + 0];
    circle[2*(i + 1) + 1] = circle[2*1 + 1];
    glVertexPointer(2, GL_FLOAT, 0, circle);
    glDrawArrays(GL_TRIANGLE_FAN, 0, precision + 1 + 1);
    return;
}
</script>
</head>

<style type="text/css">
body {
    background-color:  #000000;
    color           :  #00FF00;
    font-family     :  Courier New, Courier, monospace;
    white-space     :  pre-wrap;
}
a:link {color:  #00FFFF; }
a:visited {color:  #008080; }
</style>
<body onload="main_GL()">
<canvas id="elements" width="1024" height="1024">
Your browser doesn't appear to support the <code>&lt;CANVAS&gt;</code> element.
</canvas>

This is the WebGL port of just the elements rendering.
For the full zodiac calculator and the native C renderer, visit:  <a href="https://github.com/cxd4/zodiac-elements/tree/master">https://github.com/cxd4/zodiac-elements</a>

The names and identities of these five elements vary between astrological interpretation under different zodiacs.  Most commonly, they include <i>earth</i>, <i>fire</i> and <i>water</i>.  In Japanese philosophy, the other two elements are <i>wind</i> and <i>void</i>.  In the <a href="https://en.wikipedia.org/wiki/Wu_Xing">Wu Xing</a>, they are <i>metal</i> and <i>wood</i>.  In Western astrology, there is simply a fourth element:  <i>Air</i> or wind (which corresponds to Libra, Aquarius and Gemini).

<table border="1">
<tr><th>Element</th><th>Colors</th><th>Season</th><th>Weather</th><th>Direction</th><th>Organ</th><th>Planet</th><th>Finger</th><th>Day Time</th><th>Produces</th><th>Controls</th></tr>
<tr><td>Wood</td><td>green, purple</td><td>spring</td><td>windy</td><td>east</td><td>liver</td><td>Jupiter</td><td>thumb</td><td>morning</td><td>Fire</td><td>Earth</td></tr>
<tr><td>Fire</td><td>red, vermillion</td><td>summer</td><td>hot</td><td>south</td><td>heart</td><td>Mars</td><td>index</td><td>noon</td><td>Earth</td><td>Metal</td></tr>
<tr><td>Earth</td><td>yellow, brown</td><td>transitive</td><td>humid, damp</td><td></td><td>spleen</td><td>Saturn</td><td>middle</td><td></td><td>Metal</td><td>Water</td></tr>
<tr><td>Metal</td><td>white, silver</td><td>autumn</td><td>dry</td><td>west</td><td>lung</td><td>Venus</td><td>ring</td><td>afternoon</td><td>Water</td><td>Wood</td></tr>
<tr><td>Water</td><td>blue, black</td><td>winter</td><td>cold</td><td>north</td><td>kidney</td><td>Mercury</td><td>pinkie</td><td>night</td><td>Wood</td><td>Fire</td></tr>
</table>
</body>
</html>
